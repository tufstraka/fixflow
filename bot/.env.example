# ==================================
# FixFlow Bot Server Configuration
# ==================================

# Server
PORT=3000
NODE_ENV=development
BOT_URL=http://localhost:3000

# Frontend URL (for OAuth redirects and CORS)
FRONTEND_URL=http://localhost:3001

# Additional CORS origin (optional, for production deployments)
# Set this to your production frontend URL, e.g., https://fixflow.locsafe.org
CORS_ORIGIN=

# Security - API Keys
# Used by GitHub Actions to authenticate with the bot server
API_KEY=your_api_key_for_github_actions

# JWT Secret for session tokens
JWT_SECRET=your_jwt_secret_here

# Admin API key for admin endpoints
ADMIN_API_KEY=your_admin_api_key_here

# ==================================
# Database (PostgreSQL)
# ==================================
# Connection string for PostgreSQL
DATABASE_URL=postgresql://bounty_user:your_password@localhost:5432/FixFlow

# Alternative env var name (some hosts use this)
POSTGRES_URL=postgresql://bounty_user:your_password@localhost:5432/FixFlow

# ==================================
# GitHub App Configuration
# ==================================
# Get these from your GitHub App settings page:
# https://github.com/settings/apps/your-app-name

# Required: App ID (found in app settings)
GITHUB_APP_ID=your_github_app_id

# Required: App name (used for installation URL)
GITHUB_APP_NAME=fixflow-bot

# Required: Private key file path (downloaded from GitHub App settings)
GITHUB_APP_PRIVATE_KEY_PATH=./bounty-hunter-bot.pem

# Alternative: Provide private key inline (replace newlines with \n)
# GITHUB_APP_PRIVATE_KEY="-----BEGIN RSA PRIVATE KEY-----\n...\n-----END RSA PRIVATE KEY-----"

# Required: Webhook secret (set when creating the GitHub App)
GITHUB_WEBHOOK_SECRET=your_webhook_secret

# GitHub Marketplace webhook secret (optional, uses GITHUB_WEBHOOK_SECRET if not set)
# Set this in your GitHub App's Marketplace settings page
GITHUB_MARKETPLACE_SECRET=your_marketplace_webhook_secret

# OAuth credentials (for user authentication - from GitHub App settings)
GITHUB_APP_CLIENT_ID=your_github_app_client_id
GITHUB_APP_CLIENT_SECRET=your_github_app_client_secret

# Callback URLs (set these in GitHub App settings too)
GITHUB_APP_SETUP_REDIRECT_URL=http://localhost:3001/dashboard
GITHUB_APP_OAUTH_REDIRECT_URL=http://localhost:3001/auth/callback

# ==================================
# MNEE Payment Service
# ==================================
# Get credentials from https://mnee.io

# Environment: 'sandbox' for testing, 'production' for real payments
MNEE_ENVIRONMENT=sandbox

# Your MNEE API key
MNEE_API_KEY=your_mnee_api_key

# Bot wallet address (receives funds to pay bounties)
MNEE_BOT_ADDRESS=1YourMNEEWalletAddress

# Bot wallet private key in WIF format (for signing transactions)
# IMPORTANT: Keep this secret! Never commit to version control.
MNEE_BOT_WIF=LYourPrivateKeyInWIFFormat

# ==================================
# Logging
# ==================================
LOG_LEVEL=info

# ==================================
# Escalation Configuration
# ==================================
# How often to check for bounties that need escalation (in milliseconds)
# Default: 1 hour (3600000ms)
ESCALATION_CHECK_INTERVAL=3600000

# ==================================
# Blockchain Mode (Ethereum)
# ==================================
# Set to 'true' to use Ethereum blockchain with MNEE ERC-20 token
# Set to 'false' (default) to use MNEE SDK (Bitcoin-style)
USE_BLOCKCHAIN=false

# Ethereum RPC URL (required if USE_BLOCKCHAIN=true)
# For mainnet: https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
# For Sepolia testnet: https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
ETHEREUM_RPC_URL=

# Private key for the bot's Ethereum wallet (required if USE_BLOCKCHAIN=true)
# This wallet acts as the oracle and releases bounties when tests pass
# IMPORTANT: Keep this secret! Never commit to version control.
ETHEREUM_PRIVATE_KEY=

# BountyEscrow contract address (required if USE_BLOCKCHAIN=true)
# Deploy using: cd contracts && npm run deploy:sepolia (or deploy:mainnet)
BOUNTY_ESCROW_ADDRESS=

# MNEE Token address on Ethereum
# Mainnet: 0x8ccedbAe4916b79da7F3F612EfB2EB93A2bFD6cF
# For testnet, deploy your own mock token
MNEE_TOKEN_ADDRESS=0x8ccedbAe4916b79da7F3F612EfB2EB93A2bFD6cF

# Etherscan API key (for contract verification)
ETHERSCAN_API_KEY=